# Authentication Service Endpoints
# Last updated: May 2, 2025

### Variables
@baseUrl = http://localhost:8081
@authToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20iLCJ1c2VyX2lkIjoxLCJleHAiOjE3NDYxNzA4MzMsImlhdCI6MTc0NjE2NzIzM30.djLVSx0yqiBfe95oA97bbQ0issbzHwgfdmv2n8D_zuI

### Register User
# Creates a new user account
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "securepassword123",
  "first_name": "John",
  "last_name": "Doe"
}

### Login
# Authenticates a user and returns a JWT token
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "securepassword123"
}

### Get Current User Profile
# Retrieves the authenticated user's profile information
GET {{baseUrl}}/auth/profile
Authorization: Bearer {{authToken}}

### Update User Profile
# Updates the authenticated user's profile information
PATCH {{baseUrl}}/auth/profile
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "first_name": "Updated",
  "last_name": "Name",
  "phone_number": "+1234567890"
}

### Change Password
# Updates the user's password
POST {{baseUrl}}/auth/change-password
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "current_password": "securepassword123",
  "new_password": "newSecurePassword456"
}

### Select Tenant
# Selects a tenant and returns a JWT token with tenant context
POST {{baseUrl}}/auth/select-tenant
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "tenant_id": 1
}

### Login with Tenant Context
# Authenticate with specific tenant context
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "securepassword123",
  "tenant_id": 1
}

### Get metrics
# Retrieve Prometheus metrics for monitoring
GET {{baseUrl}}/metrics
